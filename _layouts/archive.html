---
layout: default
---

{% capture day %}{{ page.date | date: "%-d" }}{% endcapture %}
{% capture dayLastTwoDigits %}{{ day | modulo: 100 }}{% endcapture %}
{% if dayLastTwoDigits >= "11" and dayLastTwoDigits <= "13" %}
  {% assign ordinal = "th" %}
{% else %}
  {% capture dayLastDigit %}{{ day | modulo: 10 }}{% endcapture %}
  {% case dayLastDigit %}
    {% when "1" %}
      {% assign ordinal = "st" %}
    {% when "2" %}
      {% assign ordinal = "nd" %}
    {% when "3" %}
      {% assign ordinal = "rd" %}
    {% else %}
      {% assign ordinal = "th" %}
  {% endcase %}
{% endif %}

{% assign page_year = page.date | date: "%Y" %}

<div class="container-fluid">
  <article>
    <div class="row">
      <div class="col-9">
        {% if page_year != '2017' %}
          <small>Previously...</small>
        {% endif %}
        <h1 class="display-2">
          {{ page_year }} /
          {{ page.date | date: "%A, %-d" }}{{ ordinal }} {{ page.date | date: "%B"  }}
        </h1>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-8">
        {% assign ordered_posts = site.posts | sort: 'date' %}
        {% for post in ordered_posts %}
          {% assign post_year = post.date | date: "%Y" %}
          {% if post_year == page_year %}
            {% if post.break == true %}<hr />{% endif %}
            <div class="row mb-3">
              <div class="col-4 col-sm-2">
                {% if post.speaker %}
                  <img src="/images/speakers/{{ post.speaker }}.jpg" class="img-fluid"/>
                {% else %}
                  &nbsp;
                {% endif %}
              </div>
              <div class="col-8 col-sm-10">
                <h3 class="h4">
                  <small>{{ post.date | date: "%H:%M" }}</small><br />
                  {% if post.vimeo != nil or post.layout == 'preview' %}
                    <a href="{{ post.url }}">
                      {{ post.title }}
                    </a>
                  {% else %}
                    {{ post.title }}
                  {% endif %}
                </h3>
                <h4 class="h6">
                  {% assign speaker = site.data.speakers[post.speaker] %}
                  {{ speaker.name }}
                  {% if speaker.twitter %}
                    <small><a href="https://twitter.com/{{ speaker.twitter }}">@{{ speaker.twitter }}</a></small><br />
                  {% endif %}
                </h4>
              </div>
            </div>
            {% if post.break == true %}<hr />{% endif %}
          {% endif %}
        {% endfor %}
      </div>
      <div class="col-4">
        {{ content }}
      </div>
    </div>

    <!-- <div class="row">
      <div class="col-sm-6 offset-sm-6">
        <h4 class="h5 text-uppercase">Photos</h4>
        <div class="row">
          {% for photo in page.photos %}
            <div class="col-6">
              <p>
                <img src="/images/{{ page.date | date: "%Y" }}/{{ photo.src }}.jpg" alt="{{ photo.alt }}" class="img-fluid" />
              </p>
            </div>
          {% endfor %}
        </div>
      </div>
    </div> -->
  </div>
</div>
